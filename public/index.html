<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LeafLink</title>
  <link rel="icon" type="image/x-icon" href="/image/icon.png" />
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script type="module" src="backend.js"></script>
  <script type="module" src="frontend.js"></script>
  <script type="module">
    import { togglePlantType, toggleEdit } from "./frontend.js";
    window.togglePlantType = togglePlantType;
    window.toggleEdit = toggleEdit;
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <script defer src="/__/firebase/11.0.2/firebase-app-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-auth-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-database-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-firestore-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-functions-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-messaging-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-storage-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-analytics-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-remote-config-compat.js"></script>
  <script defer src="/__/firebase/11.0.2/firebase-performance-compat.js"></script>
  <script defer src="/__/firebase/init.js?useEmulator=true"></script>
</head>

<body>
  <div id="container">
    <div class="toggle-container">
      <div class="plant-type">
        <span id="plantTypeHeading">Decoration</span>
        <span>(plant type)</span>
      </div>
      <button id="changeType" class="rotating" onclick="togglePlantType()"><i class="fa-solid fa-arrows-rotate" style="color: #B8B8B8;"></i></button>
    </div>
    <div id="plantContainer">
      <div>
        <img id="plantImage" src="/image/decoration.jpg" alt="Plant Type Image" />
      </div>
      <div id="plantNameContainer">
        <div id="plantName"></div>
        <button id="editButton" onclick="toggleEdit()"><i class="fa-regular fa-pen-to-square"></i></button>
      </div>
    </div>
    <div id="sensorStatus">
      <div class="sensor">
        <i class="fa-solid fa-temperature-three-quarters sensor-icon"  ></i>
        <p class="sensor-heading">temperature</p>
        <p class="data" id="temperature">â„ƒ</p>
      </div>
      <div class="sensor">
        <i class="fa-solid fa-droplet"></i>
        <p class="sensor-heading">humidity</p>
        <p class="data" id="humidity">%</p>
      </div>
      <div class="sensor">
        <i class="fa-solid fa-seedling"></i>
        <p class="sensor-heading">soil moisture</p>
        <p class="data" id="moisture">%</p>
      </div>
    </div>
    <div id="tank">
      <div id="watertank">
        <p class="alert-header">Water Level is Sufficient</p>
      </div>
    </div>
    <div id="action">
      <div>
        <div class="upper-button">
          <button class="watering-button">watering</button>
          <button class="detect-button" type="button" onclick="document.getElementById('leafUploader').click()">
            detect
          </button>
        </div>
        <div class="lower-button">
          <button class="toggle-light-button" onclick="toggleLight()">On</button>
        </div>
      </div>
      
      <input type="file" accept="image/*" id="leafUploader" style="display: none" onchange="captureLeafImage(event)" />
    </div>
    <div id="popup">
      <div class="popup-content">
        <span class="close-btn">&times;</span>
        <img id="leafPicture" style="display: none" alt="Uploaded Leaf Image" />
        <div class="detect-information">
          <div id="leafState">
            <p >Leaf Health:</p>
          </div>
          <div id="confidence">
            <p >Confidence:</p>
          </div>
        </div>
        
        
      </div> 
    </div>

    
  </div>
</body>
</html>